{"ast":null,"code":"import{differenceInMonths,differenceInDays,format,parseISO}from'date-fns';import{id}from'date-fns/locale';// Calculate age in months and days\nexport const calculateAge=birthDate=>{const birth=typeof birthDate==='string'?parseISO(birthDate):birthDate;const today=new Date();const months=differenceInMonths(today,birth);const totalDays=differenceInDays(today,birth);// Calculate remaining days after full months\nconst monthsInDays=Math.floor(totalDays/30.44);// Average days per month\nconst days=totalDays-monthsInDays*30.44;return{months,days:Math.floor(days),totalDays};};// Format age for display\nexport const formatAge=birthDate=>{const age=calculateAge(birthDate);if(age.months<1){return\"\".concat(age.totalDays,\" hari\");}else if(age.months<12){return\"\".concat(age.months,\" bulan \").concat(age.days,\" hari\");}else{const years=Math.floor(age.months/12);const remainingMonths=age.months%12;return\"\".concat(years,\" tahun \").concat(remainingMonths,\" bulan\");}};// Format date for display\nexport const formatDate=function(date){let formatStr=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'dd MMMM yyyy';const dateObj=typeof date==='string'?parseISO(date):date;return format(dateObj,formatStr,{locale:id});};// Generate unique ID\nexport const generateId=()=>{return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);};// Calculate KPSP score and result\nexport const calculateKPSPResult=(answers,totalQuestions)=>{const yesAnswers=Object.values(answers).filter(answer=>answer).length;const score=yesAnswers;const percentage=score/totalQuestions*100;let result;let resultColor;let resultMessage;if(percentage>=80){result='sesuai';resultColor='text-green-600';resultMessage='Perkembangan anak sesuai dengan tahapan usianya. Teruskan stimulasi yang sudah dilakukan.';}else if(percentage>=60){result='meragukan';resultColor='text-yellow-600';resultMessage='Ada beberapa aspek perkembangan yang perlu mendapat perhatian lebih. Lakukan stimulasi lebih intensif.';}else{result='penyimpangan';resultColor='text-red-600';resultMessage='Beberapa aspek perkembangan memerlukan perhatian khusus. Disarankan konsultasi dengan tenaga kesehatan.';}return{score,maxScore:totalQuestions,percentage:Math.round(percentage),result,resultColor,resultMessage};};// Get recommendations based on failed aspects\nexport const getRecommendations=(answers,questions)=>{const recommendations=[];const failedAspects=new Set();// Identify failed aspects\nquestions.forEach(q=>{if(!answers[q.id]){failedAspects.add(q.aspect);}});// Generate recommendations based on failed aspects\nif(failedAspects.has('motorik_kasar')){recommendations.push('Lakukan lebih banyak aktivitas fisik seperti tummy time, latihan duduk, atau bermain bola');}if(failedAspects.has('motorik_halus')){recommendations.push('Berikan mainan yang merangsang kemampuan tangan seperti rattle, finger food, atau aktivitas menggambar');}if(failedAspects.has('bicara_bahasa')){recommendations.push('Perbanyak interaksi verbal, bacakan buku, nyanyikan lagu, dan ajak anak berbicara');}if(failedAspects.has('sosialisasi_kemandirian')){recommendations.push('Ajarkan kemandirian sederhana seperti makan sendiri, bermain dengan anak lain, dan rutinitas harian');}return recommendations;};// Validate email format\nexport const isValidEmail=email=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailRegex.test(email);};// Validate password strength\nexport const validatePassword=password=>{if(password.length<6){return{isValid:false,message:'Password minimal 6 karakter'};}if(password.length>50){return{isValid:false,message:'Password maksimal 50 karakter'};}return{isValid:true,message:'Password valid'};};// Storage helpers\nexport const storage={get:key=>{try{const item=localStorage.getItem(key);return item?JSON.parse(item):null;}catch(_unused){return null;}},set:(key,value)=>{try{localStorage.setItem(key,JSON.stringify(value));}catch(error){console.error('Storage error:',error);}},remove:key=>{try{localStorage.removeItem(key);}catch(error){console.error('Storage error:',error);}},clear:()=>{try{localStorage.clear();}catch(error){console.error('Storage error:',error);}}};// Debounce function for search\nexport const debounce=(func,delay)=>{let timeoutId;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}clearTimeout(timeoutId);timeoutId=setTimeout(()=>func.apply(null,args),delay);};};","map":{"version":3,"names":["differenceInMonths","differenceInDays","format","parseISO","id","calculateAge","birthDate","birth","today","Date","months","totalDays","monthsInDays","Math","floor","days","formatAge","age","concat","years","remainingMonths","formatDate","date","formatStr","arguments","length","undefined","dateObj","locale","generateId","random","toString","substring","calculateKPSPResult","answers","totalQuestions","yesAnswers","Object","values","filter","answer","score","percentage","result","resultColor","resultMessage","maxScore","round","getRecommendations","questions","recommendations","failedAspects","Set","forEach","q","add","aspect","has","push","isValidEmail","email","emailRegex","test","validatePassword","password","isValid","message","storage","get","key","item","localStorage","getItem","JSON","parse","_unused","set","value","setItem","stringify","error","console","remove","removeItem","clear","debounce","func","delay","timeoutId","_len","args","Array","_key","clearTimeout","setTimeout","apply"],"sources":["D:/Infinite/client/src/utils/helpers.ts"],"sourcesContent":["import { differenceInMonths, differenceInDays, format, parseISO } from 'date-fns';\r\nimport { id } from 'date-fns/locale';\r\n\r\n// Calculate age in months and days\r\nexport const calculateAge = (birthDate: Date | string): { months: number; days: number; totalDays: number } => {\r\n  const birth = typeof birthDate === 'string' ? parseISO(birthDate) : birthDate;\r\n  const today = new Date();\r\n  \r\n  const months = differenceInMonths(today, birth);\r\n  const totalDays = differenceInDays(today, birth);\r\n  \r\n  // Calculate remaining days after full months\r\n  const monthsInDays = Math.floor(totalDays / 30.44); // Average days per month\r\n  const days = totalDays - (monthsInDays * 30.44);\r\n  \r\n  return {\r\n    months,\r\n    days: Math.floor(days),\r\n    totalDays\r\n  };\r\n};\r\n\r\n// Format age for display\r\nexport const formatAge = (birthDate: Date | string): string => {\r\n  const age = calculateAge(birthDate);\r\n  \r\n  if (age.months < 1) {\r\n    return `${age.totalDays} hari`;\r\n  } else if (age.months < 12) {\r\n    return `${age.months} bulan ${age.days} hari`;\r\n  } else {\r\n    const years = Math.floor(age.months / 12);\r\n    const remainingMonths = age.months % 12;\r\n    return `${years} tahun ${remainingMonths} bulan`;\r\n  }\r\n};\r\n\r\n// Format date for display\r\nexport const formatDate = (date: Date | string, formatStr: string = 'dd MMMM yyyy'): string => {\r\n  const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n  return format(dateObj, formatStr, { locale: id });\r\n};\r\n\r\n// Generate unique ID\r\nexport const generateId = (): string => {\r\n  return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\r\n};\r\n\r\n// Calculate KPSP score and result\r\nexport const calculateKPSPResult = (answers: { [questionId: string]: boolean }, totalQuestions: number) => {\r\n  const yesAnswers = Object.values(answers).filter(answer => answer).length;\r\n  const score = yesAnswers;\r\n  const percentage = (score / totalQuestions) * 100;\r\n  \r\n  let result: 'sesuai' | 'meragukan' | 'penyimpangan';\r\n  let resultColor: string;\r\n  let resultMessage: string;\r\n  \r\n  if (percentage >= 80) {\r\n    result = 'sesuai';\r\n    resultColor = 'text-green-600';\r\n    resultMessage = 'Perkembangan anak sesuai dengan tahapan usianya. Teruskan stimulasi yang sudah dilakukan.';\r\n  } else if (percentage >= 60) {\r\n    result = 'meragukan';\r\n    resultColor = 'text-yellow-600';\r\n    resultMessage = 'Ada beberapa aspek perkembangan yang perlu mendapat perhatian lebih. Lakukan stimulasi lebih intensif.';\r\n  } else {\r\n    result = 'penyimpangan';\r\n    resultColor = 'text-red-600';\r\n    resultMessage = 'Beberapa aspek perkembangan memerlukan perhatian khusus. Disarankan konsultasi dengan tenaga kesehatan.';\r\n  }\r\n  \r\n  return {\r\n    score,\r\n    maxScore: totalQuestions,\r\n    percentage: Math.round(percentage),\r\n    result,\r\n    resultColor,\r\n    resultMessage\r\n  };\r\n};\r\n\r\n// Get recommendations based on failed aspects\r\nexport const getRecommendations = (answers: { [questionId: string]: boolean }, questions: any[]): string[] => {\r\n  const recommendations: string[] = [];\r\n  const failedAspects = new Set<string>();\r\n  \r\n  // Identify failed aspects\r\n  questions.forEach(q => {\r\n    if (!answers[q.id]) {\r\n      failedAspects.add(q.aspect);\r\n    }\r\n  });\r\n  \r\n  // Generate recommendations based on failed aspects\r\n  if (failedAspects.has('motorik_kasar')) {\r\n    recommendations.push('Lakukan lebih banyak aktivitas fisik seperti tummy time, latihan duduk, atau bermain bola');\r\n  }\r\n  \r\n  if (failedAspects.has('motorik_halus')) {\r\n    recommendations.push('Berikan mainan yang merangsang kemampuan tangan seperti rattle, finger food, atau aktivitas menggambar');\r\n  }\r\n  \r\n  if (failedAspects.has('bicara_bahasa')) {\r\n    recommendations.push('Perbanyak interaksi verbal, bacakan buku, nyanyikan lagu, dan ajak anak berbicara');\r\n  }\r\n  \r\n  if (failedAspects.has('sosialisasi_kemandirian')) {\r\n    recommendations.push('Ajarkan kemandirian sederhana seperti makan sendiri, bermain dengan anak lain, dan rutinitas harian');\r\n  }\r\n  \r\n  return recommendations;\r\n};\r\n\r\n// Validate email format\r\nexport const isValidEmail = (email: string): boolean => {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email);\r\n};\r\n\r\n// Validate password strength\r\nexport const validatePassword = (password: string): { isValid: boolean; message: string } => {\r\n  if (password.length < 6) {\r\n    return { isValid: false, message: 'Password minimal 6 karakter' };\r\n  }\r\n  \r\n  if (password.length > 50) {\r\n    return { isValid: false, message: 'Password maksimal 50 karakter' };\r\n  }\r\n  \r\n  return { isValid: true, message: 'Password valid' };\r\n};\r\n\r\n// Storage helpers\r\nexport const storage = {\r\n  get: (key: string) => {\r\n    try {\r\n      const item = localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  },\r\n  \r\n  set: (key: string, value: any) => {\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(value));\r\n    } catch (error) {\r\n      console.error('Storage error:', error);\r\n    }\r\n  },\r\n  \r\n  remove: (key: string) => {\r\n    try {\r\n      localStorage.removeItem(key);\r\n    } catch (error) {\r\n      console.error('Storage error:', error);\r\n    }\r\n  },\r\n  \r\n  clear: () => {\r\n    try {\r\n      localStorage.clear();\r\n    } catch (error) {\r\n      console.error('Storage error:', error);\r\n    }\r\n  }\r\n};\r\n\r\n// Debounce function for search\r\nexport const debounce = (func: Function, delay: number) => {\r\n  let timeoutId: NodeJS.Timeout;\r\n  return (...args: any[]) => {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => func.apply(null, args), delay);\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}